\doxysection{Game.\+h}
\hypertarget{_game_8h_source}{}\label{_game_8h_source}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#include\ <array>}}
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ <memory>}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <functional>}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ <ranges>}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <algorithm>}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ "{}BoardFactory.h"{}}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_i_game_8h}{IGame.h}}"{}}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ "{}IPlayer.h"{}}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ "{}Move.h"{}}}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \textcolor{keyword}{using\ }IsComputer\ =\ bool;}
\DoxyCodeLine{00014\ \textcolor{keyword}{using\ }PlayerPtrList\ =\ std::vector<std::pair<PlayerPtr,\ IsComputer>>;}
\DoxyCodeLine{00015\ \textcolor{keyword}{using\ }Listeners\ =\ std::vector<ListenerWeakPtr>;}
\DoxyCodeLine{00016\ \textcolor{keyword}{using\ }NotifyFunction\ =\ std::function<void(\mbox{\hyperlink{class_i_game_listener}{IGameListener}}*)>;}
\DoxyCodeLine{00017\ \textcolor{keyword}{using\ }Moves\ =\ std::vector<Move>;}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_game}{Game}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_i_game}{IGame}}}
\DoxyCodeLine{00020\ \{}
\DoxyCodeLine{00021\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00022\ \ \ \ \ \mbox{\hyperlink{class_game}{Game}}();}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ \ \ \ \ \textcolor{comment}{//IGame}}
\DoxyCodeLine{00025\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_game_a9915d9b241290e90bcf98876ef0b0d58}{Initialize}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{struct_game_config}{GameConfig}}\&\ gameConfig)\ \textcolor{keyword}{override}\ \textcolor{keyword}{final};}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ \ \ \ \ \mbox{\hyperlink{_e_game_state_8h_a7133e20455d8cea75b1a4806d1a6732b}{EGameState}}\ \mbox{\hyperlink{class_game_a7c68650477b8b7e7cfe1efbb83a09ef8}{GetGameState}}()\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{override}\ \textcolor{keyword}{final};}
\DoxyCodeLine{00028\ \ \ \ \ \mbox{\hyperlink{_e_piece_type_8h_a2c4883759e8c06d3cd053516cd4873f3}{EPieceType}}\ \mbox{\hyperlink{class_game_a5960de44350b2d5ba270aaf8d60f5778}{GetWinningPlayer}}()\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{override}\ \textcolor{keyword}{final};}
\DoxyCodeLine{00029\ \ \ \ \ \mbox{\hyperlink{_e_piece_type_8h_a2c4883759e8c06d3cd053516cd4873f3}{EPieceType}}\ \mbox{\hyperlink{class_game_aba2f4566bda96a5826956783ff5084b4}{GetActivePlayer}}()\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{override}\ \textcolor{keyword}{final};}
\DoxyCodeLine{00030\ \ \ \ \ \mbox{\hyperlink{_e_piece_type_8h_a2c4883759e8c06d3cd053516cd4873f3}{EPieceType}}\ \mbox{\hyperlink{class_game_a542fca2b411069dd65ddc968e3664fd5}{GetPiece}}(uint8\_t\ nodeIndex)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{override}\ \textcolor{keyword}{final};}
\DoxyCodeLine{00031\ \ \ \ \ \mbox{\hyperlink{_e_piece_type_8h_a2c4883759e8c06d3cd053516cd4873f3}{EPieceType}}\ \mbox{\hyperlink{class_game_aea8047a8d501c01055150c5a6550bf4c}{GetNode}}(uint8\_t\ nodeIndex)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{override}\ \textcolor{keyword}{final};}
\DoxyCodeLine{00032\ \ \ \ \ NodeList\ \mbox{\hyperlink{class_game_a0e9a0d9c2759025860b2287a16bc5418}{GetAllNodes}}()\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{override}\ \textcolor{keyword}{final};}
\DoxyCodeLine{00033\ \ \ \ \ PieceTypeList\ \mbox{\hyperlink{class_game_a986fa2848f91db13c747a4126716f2f3}{GetAllPieces}}()\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{override}\ \textcolor{keyword}{final};}
\DoxyCodeLine{00034\ \ \ \ \ PlayerTypeList\ \mbox{\hyperlink{class_game_a3eaaa72d7fe236364ea47e4fff879515}{GetAllPlayerTypes}}()\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{override}\ \textcolor{keyword}{final};}
\DoxyCodeLine{00035\ \ \ \ \ uint8\_t\ \mbox{\hyperlink{class_game_aa66284d90cea0d59f2974e690423fb04}{GetPlayerPiecesOnBoard}}(\mbox{\hyperlink{_e_piece_type_8h_a2c4883759e8c06d3cd053516cd4873f3}{EPieceType}}\ player)\ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{override}\ \textcolor{keyword}{final};}
\DoxyCodeLine{00036\ \ \ \ \ uint8\_t\ \mbox{\hyperlink{class_game_a90693f1ec3b925eb1a751393a57a0dd0}{GetPlayerPiecesToPlace}}(\mbox{\hyperlink{_e_piece_type_8h_a2c4883759e8c06d3cd053516cd4873f3}{EPieceType}}\ player)\ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{override}\ \textcolor{keyword}{final};}
\DoxyCodeLine{00037\ \ \ \ \ PieceIndexes\ \mbox{\hyperlink{class_game_afbef7a304f1d78994f5df828a2b03296}{GetPossibleMovesFromNode}}(uint8\_t\ nodeIndex)\ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{override}\ \textcolor{keyword}{final};}
\DoxyCodeLine{00038\ \ \ \ \ PieceIndexes\ \mbox{\hyperlink{class_game_a9ea9927b21acc4b38b643770d803713a}{GetPossibleRemoves}}()\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{override}\ \textcolor{keyword}{final};}
\DoxyCodeLine{00039\ \ \ \ \ \textcolor{keywordtype}{void}\ SetBoard(BoardPtr\ board);}
\DoxyCodeLine{00040\ \ \ \ \ Miliseconds\ \mbox{\hyperlink{class_game_aeca23486a9935854f3d92b57492331f1}{GetRoundTime}}()\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{override}\ \textcolor{keyword}{final};}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_game_a7fbd4c403036a691d044f540f7b7e879}{CheckWiningPlayer}}();}
\DoxyCodeLine{00043\ \ \ \ \ \textcolor{keywordtype}{void}\ CheckBlocks();}
\DoxyCodeLine{00044\ \ \ \ \ }
\DoxyCodeLine{00045\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_game_ac18cab4a8af55d6d24a7ea7fefe4c6fc}{AddListener}}(ListenerWeakPtr\ listener)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00046\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_game_a453eda5af21e10e8e5ffe3668485ce3a}{RemoveListener}}(ListenerWeakPtr\ listener)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00047\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_game_aebbe7d9eb0e42a3110ceb72dde9f0a3f}{RemoveAllListeners}}()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \ \ \ \ \textcolor{comment}{//IGameControls}}
\DoxyCodeLine{00050\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_game_af463d4f3b0602cd33339b921ee4448e9}{PlacePiece}}(uint8\_t\ nodeIndex)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{override}\ \textcolor{keyword}{final};}
\DoxyCodeLine{00051\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_game_ae9be2ffbb0923085e2e4e06d1885a1be}{MovePiece}}(uint8\_t\ fromIndex,\ uint8\_t\ toIndex)\ \textcolor{keyword}{override}\ \textcolor{keyword}{final};}
\DoxyCodeLine{00052\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_game_a48521252d85bc06fb24c111daafe1bd4}{RemovePiece}}(uint8\_t\ nodeIndex)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{override}\ \textcolor{keyword}{final};}
\DoxyCodeLine{00053\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_game_a5e0b92a024a94a9f9c606c04af38a5f0}{Undo}}()\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{override}\ \textcolor{keyword}{final};}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00055\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_game_ac607f991e72bd066dc2437b72d7c07eb}{LoadGame}}(\textcolor{keyword}{const}\ std::string\&\ filePath)\ \textcolor{keyword}{override}\ \textcolor{keyword}{final};}
\DoxyCodeLine{00056\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_game_a7d9a130cdae76613a4ff0ae646d19ce1}{SaveGame}}(\textcolor{keyword}{const}\ std::string\&\ filePath)\ \textcolor{keyword}{const}\ \textcolor{keyword}{override}\ \textcolor{keyword}{final};}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_game_a0cffc1f94b2d8c69267c4333ae5db1ae}{SetComputerLevel}}(ComputerLevelPtr\&\ computerLevel)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00059\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_game_a0cffc1f94b2d8c69267c4333ae5db1ae}{SetComputerLevel}}(EComputerLevel\ level)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00060\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_game_a450c6b35926894336d1fed46e082b5a4}{LetComputerPlay}}()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00061\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_game_a3c3644986322cfef9a796e3bd3306146}{IsComputerTurn}}()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00062\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00063\ \ \ \ \ \textcolor{keywordtype}{void}\ NextPlayer();}
\DoxyCodeLine{00064\ \ \ \ \ \textcolor{keywordtype}{void}\ PrevPlayer();}
\DoxyCodeLine{00065\ \ \ \ \ \textcolor{keywordtype}{void}\ NotifyAll(NotifyFunction\ func);}
\DoxyCodeLine{00066\ \ \ \ \ \textcolor{keywordtype}{void}\ UndoPlacePiece(uint8\_t\ nodeIndex);}
\DoxyCodeLine{00067\ \ \ \ \ \textcolor{keywordtype}{void}\ UndoMovePiece(uint8\_t\ fromIndex,\ uint8\_t\ toIndex);}
\DoxyCodeLine{00068\ \ \ \ \ \textcolor{keywordtype}{void}\ UndoRemovePiece(uint8\_t\ nodeIndex);}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{keywordtype}{void}\ InitLevel(EComputerLevel\ level);}
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{keywordtype}{void}\ InitPlayers(\textcolor{keyword}{const}\ Config\&\ playersConfig);}
\DoxyCodeLine{00072\ \ \ \ \ \textcolor{keywordtype}{void}\ InitBoard(\textcolor{keyword}{const}\ BoardConfigMatrix\&\ boardMatrix,\ \mbox{\hyperlink{_e_board_type_8h_abcc63908afb1bb0f38703b3e612d81f8}{EBoardType}}\ type,\ \textcolor{keywordtype}{int}\ piecesToPlace);}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00074\ \ \ \ \ NotifyFunction\ GetNotifyAddedPiece(uint8\_t\ index,\ \mbox{\hyperlink{_e_piece_type_8h_a2c4883759e8c06d3cd053516cd4873f3}{EPieceType}}\ type);}
\DoxyCodeLine{00075\ \ \ \ \ NotifyFunction\ GetNotifyGameStateChanged(\mbox{\hyperlink{_e_game_state_8h_a7133e20455d8cea75b1a4806d1a6732b}{EGameState}}\ newState);}
\DoxyCodeLine{00076\ \ \ \ \ NotifyFunction\ GetNotifyRemovedPiece(uint8\_t\ index);}
\DoxyCodeLine{00077\ \ \ \ \ NotifyFunction\ GetNotifyMovedPiece(uint8\_t\ fromIndex,\ uint8\_t\ toIndex,\ \mbox{\hyperlink{_e_piece_type_8h_a2c4883759e8c06d3cd053516cd4873f3}{EPieceType}}\ movedPiceType);}
\DoxyCodeLine{00078\ \ \ \ \ NotifyFunction\ GetNotifyWindmill();}
\DoxyCodeLine{00079\ \ \ \ \ NotifyFunction\ GetNotifyPlayerChanged(\mbox{\hyperlink{_e_piece_type_8h_a2c4883759e8c06d3cd053516cd4873f3}{EPieceType}}\ playerType,\ \textcolor{keywordtype}{bool}\ isComputer);}
\DoxyCodeLine{00080\ \ \ \ \ NotifyFunction\ GetNotifyPlayerRemoved(\mbox{\hyperlink{_e_piece_type_8h_a2c4883759e8c06d3cd053516cd4873f3}{EPieceType}}\ who);}
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00082\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00083\ \ \ \ \ Listeners\ \ \ \ \ \ \ m\_listeners;}
\DoxyCodeLine{00084\ \ \ \ \ PlayerPtrList\ \ \ m\_players;}
\DoxyCodeLine{00085\ \ \ \ \ BoardPtr\ \ \ \ \ \ \ \ m\_board;}
\DoxyCodeLine{00086\ \ \ \ \ \mbox{\hyperlink{_e_game_state_8h_a7133e20455d8cea75b1a4806d1a6732b}{EGameState}}\ \ \ \ \ \ \ \ m\_state;}
\DoxyCodeLine{00087\ \ \ \ \ Moves\ \ \ \ \ \ \ \ \ \ \ m\_moves;}
\DoxyCodeLine{00088\ \ \ \ \ \mbox{\hyperlink{_e_piece_type_8h_a2c4883759e8c06d3cd053516cd4873f3}{EPlayerType}}\ \ \ \ \ \ m\_winner;}
\DoxyCodeLine{00089\ \ \ \ \ ComputerLevelPtr\ m\_computer;}
\DoxyCodeLine{00090\ \ \ \ \ TimerPtr\ \ \ \ \ \ \ \ m\_moveTimer;}
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00092\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ \ \ \ \ \ \ m\_activePlayer;}
\DoxyCodeLine{00093\ \};}

\end{DoxyCode}
